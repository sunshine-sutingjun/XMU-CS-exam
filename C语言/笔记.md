# C语言零散笔记

补充笔记

## 数据类型

### 大小

1. 整数类型：
    short 2字节
    int 4字节
    long 8字节

2. 浮点类型：
    double 8字节
    float 4字节
    定义float类型时需写成：float num = 0.5f;（小数默认是double）

3. 字符类型：
    char 1字节
    可以表示ASCLL码中所有的字符，不能表示中文等

### 占位（p73）

%占位：
printf格式化输出函数，%占位时有以下参数：```%[占位长度][.精确位数（四舍五入）]```占位格式

+ %d  为整数占位
+ %hd 为short整数占位
+ %ld 为long整数占位
+ %u  为unsigned整数占位
    %lu，%hu..
    对unsigned赋值负数，补码的首位依然被认为是1，但输出时这个1是会带入二进制计算的
+ %e  指数
    例：```printf("%e",123.456);``` 输出：```1.234560e+002```
    例：```printf("%13.2e",123.456);``` 输出：```(四个空格）1.23e+002```
+ %E %e的大写
+ %i  等同于%d
+ %o 八进制输出
+ %x 十六进制输出，小写
+ %X 十六进制输出，大写
+ %g 自动选择%f或者%e输出，小写
+ %G 自动选择%f或者%E输出，大写
+ %s 字符串

### 科学计数法

```c
#include <stdio.h>
int main()
{
    printf("%lf\n", 123000000.0);      // 123000000.000000
    printf("%.2e\n", 123000000.0);     // 1.23e+008
    printf("%.2e\n", -123000000.0);    //-1.23e+008
    printf("%lf\n", 0.0000000123);     // 0.000000
    printf("%e\n", 0.0000000123);      // 1.230000e-008
    printf("%g\n", 0.0000000123);      // 1.23e-008
    printf("%.2e\n", 0.0000000123);    // 1.23e-008
    printf("%.2e\n", -0.0000000123);   //-1.23e-008
    printf("%lf, %e\n", .1e-2, .1e-2); // 0.001000, 1.000000e-003
    return 0;
}
```

### 舍入舍出

浮点型格式化输出，四舍五入：

```c
float a;
printf("%f\t%.2f\n", a, a);
```

浮点型强制转化，直接丢小数点后的

```c
printf("%f\t%d\n", a, (int)a);
```

## 转义字符

| 转义字符                             | 字符值                        |
| ------------------------------------ | ----------------------------- |
| `\'`                                 | '                             |
| `\"`                                 | "                             |
| `\?`                                 | ?                             |
| `\\`                                 | `\`                           |
| `\a`                                 | 警告                          |
| `\b`                                 | 退格                          |
| `\f`                                 | 换页                          |
| `\n`                                 | 换行                          |
| `\r`                                 | 回车                          |
| `\t`                                 | 水平制表符                    |
| `\v`                                 | 垂直制表符                    |
| `\o、\oo、\ooo`，o代表一个八进制数字 | 与该八进制码对应的ASCLL字符   |
| `\xh[h..]`，h代表一个十六进制数字    | 与该十六进制码对应的ASCLL字符 |

## ASCII码

常见ASCII码：
' ': 32
'0': 48
'A': 65
'a': 97

## 运算符

<table>
    <tr>
        <th>优先级</th>
        <th>运算符</th>
        <th>含义</th>
        <th>运算对象个数</th>
        <th>结合方向</th>
    </tr>
    <tr>
        <td rowspan=4>1</td>
        <td>( )</td>
        <td></td>
        <td rowspan=4></td>
        <td rowspan=4>→👉</td>
    <tr>
        <td>[ ]</td>
        <td></td>
    </tr>
    <tr>
        <td> -> </td>
        <td></td>
    </tr>
    <tr>
        <td> . </td>
        <td></td>
    </tr>
    <tr>
        <td rowspan=9>2</td>
        <td>!</td>
        <td></td>
        <td rowspan=9>1</td>
        <td rowspan=9><mark>←👈</mark></td>
    <tr>
        <td>~</td>
        <td></td>
    </tr>
    <tr>
        <td>++</td>
        <td></td>
    </tr>
    <tr>
        <td>--</td>
        <td></td>
    </tr>
    <tr>
        <td>-</td>
        <td></td>
    </tr>
    <tr>
        <td>(类型)</td>
        <td></td>
    </tr>
    <tr>
        <td>*</td>
        <td></td>
    </tr>
    <tr>
        <td>&</td>
        <td></td>
    </tr>
    <tr>
        <td>sizeof</td>
        <td></td>
    </tr>
    <tr>
        <td rowspan=3>3</td>
        <td>*</td>
        <td></td>
        <td rowspan=3>2</td>
        <td rowspan=3>→👉</td>
    </tr>
    <tr>
        <td>/</td>
        <td></td>
    </tr>
    <tr>
        <td>%</td>
        <td></td>
    </tr>
    <tr>
        <td rowspan=2>4</td>
        <td>+</td>
        <td></td>
        <td rowspan=2>2</td>
        <td rowspan=2>→👉</td>
    </tr>
    <tr>
        <td>-</td>
        <td></td>
    </tr>
    <tr>
        <td rowspan=2>5</td>
        <td><<</td>
        <td></td>
        <td rowspan=2>2</td>
        <td rowspan=2>→👉</td>
    </tr>
    <tr>
        <td>>></td>
        <td></td>
    </tr>
    <tr>
        <td>6</td>
        <td>< <= > >=</td>
        <td></td>
        <td>2</td>
        <td>→👉</td>
    </tr>
    <tr>
        <td rowspan=2>7</td>
        <td>==</td>
        <td></td>
        <td rowspan=2>2</td>
        <td rowspan=2>→👉</td>
    </tr>
    <tr>
        <td>!=</td>
        <td></td>
    </tr>
    <tr>
        <td>8</td>
        <td>&</td>
        <td></td>
        <td>2</td>
        <td>→👉</td>
    </tr>
    <tr>
        <td>9</td>
        <td>^</td>
        <td></td>
        <td>2</td>
        <td>→👉</td>
    </tr>
    <tr>
        <td>10</td>
        <td>|</td>
        <td></td>
        <td>2</td>
        <td>→👉</td>
    </tr>
    <tr>
        <td>11</td>
        <td>&&</td>
        <td></td>
        <td>2</td>
        <td>→👉</td>
    </tr>
    <tr>
        <td>12</td>
        <td>||</td>
        <td></td>
        <td>2</td>
        <td>→👉</td>
    </tr>
    <tr>
        <td>13</td>
        <td>? : </td>
        <td></td>
        <td>3</td>
        <td><mark>←👈</mark></td>
    </tr>
    <tr>
        <td>14</td>
        <td>= += -= *= /= %= >>= <<= &= ^= |=</td>
        <td></td>
        <td>2</td>
        <td>→👉</td>
    </tr>
     <tr>
        <td>15</td>
        <td>,</td>
        <td></td>
        <td></td>
        <td>→👉</td>
    </tr>
</table>

## 例题

### 魔法阵

思路

<table>
    <tr>
        <td colspan=2>第一排：if is middle: init 1;<br/>else: {row = a - 1;//<u> ↓</u><br/>col++;//→}</td>
        <td>右上角：row++;//↓</td>
    </tr>
    <tr>
        <td>row--;//↓<br/>
    col++;//→</td>
        <td>row--;//↓<br/>
    col++;//→</td>
        <td rowspan=2>最右列：<br/>row--;//↑<br/>
                col = 0;//|←</td>
    </tr>
    <tr>
        <td>row--;//↓<br/>
    col++;//→</td>
        <td>row--;//↓<br/>
    col++;//→</td>
    </tr>
</table>

```c
if 已占数字:
    row = (row + 2) % a;//→→2，超出则|←
    col = (col + a - 1) % a;//←1，超出则→|
```

```c
#include <stdio.h>
#include <string.h>
int main()
{
    int n = 3, num, row, col, a, a2;
    int arr[101][101];
    for (a = 1; a <= n; a+=2)
    {
        memset(arr, 0, sizeof arr);
        row = 0;
        col = a / 2;
        a2 = a * a;
        for (num = 1; num <= a2; num ++)
        {
            // printf("row: %d col: %d num: %d\n",row,col,num);
            arr[row][col] = num;
            if (row == 0 && col == a - 1)
            {
                row++;
            }
            else if (row == 0)
            {
                row = a - 1;
                col++;
            }
            else if (col == n - 1)
            {
                row--;
                col = 0;
            }
            else
            {
                row--;
                col++;
            }
            if (arr[row][col] != 0)
            {
                row = (row + 2) % a;
                col = (col + a - 1) % a;
            }
        }
        for (row = 0; row < a; row++)
        {
            for (col = 0; col < a; col++)
            {
                printf("%2d ", arr[row][col]);
            }
            putchar('\n');
        }
        putchar('\n');
    }
    return 0;
}
```