# 2017级
不保证对
### 一、填空题（15 分）
不知道捏，直接用kimi做了

1、2017 年 ACM 图灵奖授予了斯坦福大学前校长 John L、Hennessy 和加州大学伯克利分校退休教授 David A. Patterson，以表彰他们在__________方面取得的成就，其中，Patterson 的另外一个很重要的贡献是提出了__________，提高了存储系统的性能和可靠性。
* **答案** ：第一个空：RISC 架构的开创性研究，第二个空：RAID（冗余独立磁盘阵列）。

2、2020 年单价 4000 元一部的手机，它的性能不亚于 1993 年售价 5000 万美元的全球最快的电脑。电脑性能快速发展的主要原因来自于两个方面：__________ 和 __________：
* **答案** ：第一个空：摩尔定律（集成电路集成度每隔 18 - 24 个月翻一番），第二个空：体系结构的不断改进（或类似表述，如计算机体系结构创新等）。

3、典型的动态调度算法包括__________和 Tomasulo 算法，前者硬件中记录的信息由三部分构成，即__________、__________ 和 __________。
* **答案** ：第一个空：Scoreboarding 算法，第二个空：指令状态，第三个空：操作数状态，第四个空：功能部件状态。

4、开发循环级并行性的常用方法是__________，限制循环结构并行性开发的一个重要因素是__________。
* **答案** ：第一个空：循环展开（或循环展开技术），第二个空：循环-carried 相关（或存在循环-carried 相关）。

5、实现并行查找的方法有两种：（1）用__________实现；（2）用单体多字的按地址访问的存储器和比较器来实现。
* **答案** ：第一个空：完全并行比较器（或全并行比较器）。

6、现有的 MIMD 计算机分为两类，即对称式共享存储器多处理机和分布式共享存储器多处理机，分别采用的 Cache 一致性协议是__________和__________。
* **答案** ：第一个空：基于目录的协议（或目录式一致性协议），第二个空：基于 snooping 的协议（或嗅探式一致性协议）。

7、假设每个磁盘的容量为 1TB，根据 RAID 的相关知识填写下表中的空格①～⑧。（2 分）

| 级别     | 磁盘个数 | 磁盘阵列容量（TB） | 存储效率       |
|----------|----------|--------------------|----------------|
| RAID0    | 7        | ①                  | ②              |
| RAID1    | ③        | 5                  | ④              |
| RAID5    | ⑤        | ⑥                  | 87.5%          |
| RAID6    | 6        | ⑦                  | ⑧              |

* **答案** ：

* ① 7TB
* ② 100%
* ③ 10
* ④ 50%
* ⑤ 8
* ⑥ 7TB
* ⑦ 4TB
* ⑧ 66.7%
### 二.
下图是SPEC整数测试工具的相对性能的年度变化曲线。试分析每个阶段的性能增长情况及其主要原因。
（啥意思？）
![alt text](image-3.png)
放个deepseek
#### **阶段划分与核心原因**
**1. 高速增长期（1978-1990，52%/年）**  
- **技术原因**：制程改进（微米→亚微米）、单核架构优化（流水线、缓存）。  
- **例子**：IBM RS6000/540（30 MHz）→性能提升依赖工艺和单核设计。  

**2. 持续增长期（1990-2006，23%/年）**  
- **技术原因**：RISC架构普及、超标量设计（并行指令）、频率突破（MHz→GHz）。  
- **例子**：Pentium 4（3.06 GHz）→架构革新和制程红利叠加。  

**3. 增速放缓期（2006-2018，12%/年）**  
- **技术原因**：多核技术普及（4-6核）、单核频率接近物理极限（功耗限制）。  
- **例子**：Intel Xeon 6核（3.3 GHz）→依赖多核并行弥补单核性能停滞。  

**4. 低增长期（2018后，3.5%/年）**  
- **技术原因**：制程瓶颈（14nm以下量子效应）、软件难以利用多核潜力。  
- **例子**：Intel Core i7（Boost至4.5 GHz）→仅靠动态超频小幅提升性能。  

#### **关键结论（考试得分点）**
1. **摩尔定律失效**：早期高增长依赖制程升级，后期物理极限（散热、量子隧穿）导致增速骤降。  
2. **多核边际收益**：软件并行优化不足，多核无法线性提升实际性能（Amdahl定律）。  
3. **未来方向**：需异构计算（GPU/TPU）或存算一体技术突破“功耗墙”。  

### 三
（5分）用GCD测试法判断下面的循环中是否存在循环携带的真数据相关。 
```c
for(i=0;i<100;i+=2){ 
    A[i]=B[i]; 
    B[2*i+5]=A[i]; 
} 
```
$$
a=2,b=5,c=1,d=0\\
d-b=0-5=-5\\
gcd(a,c)=gcd(2,1)=1\\
$$

$d-b$ 能整除 $gcd(a,c)$，可能有存储别名存在

### 四.
（10分）假设一台模型机共有 8 条指令，各指令的使用频度分别为 30%（I₁）、21%（I₂）、15%（I₃）、14%（I₄）、13%（I₅）、4%（I₆）、2%（I₇）、1%（I₈）；设计这 8 条指令操作码的哈夫曼编码（包括哈夫曼树和哈夫曼编码），并计算操作码的平均码长。
![alt text](image.png)

### 五
（10分）给定以下假设，试计算直接映像Cache和两路组相联Cache的平均访问时间及CPU的性能。
由计算结果能得出什么结论？ 
（1） 理想Cache情况下的CPI为1.6，时钟周期时间0.35ns，平均每条指令访存1.4次； 
（2） 两者Cache的容量均为128KB，块大小都是64字节； 
（3） 组相联Cache中的多路选择器使CPU的时钟周期增加了35%； 
（4） 这两种Cache的不命中开销都是65ns； 
（5） 命中时间为1个时钟周期； 
（6） 128KB直接映像Cache的不命中率为2.1%，128KB两路组相联Cache的不命中率为1.9%。

### 六.
（10分）设函数的自变量是十进制数表示的处理机编号。现有32台处理机，其编号为0，1，…，31。 
（1）分别计算下列互连函数 
$Cube_2(7)~~~σ(8)~~~  β(10)~~~  PM2I_{+3}(18)~~~  Cube_0(σ(3))$
（2）用Cube0和σ构成均匀洗牌交换网（每步只能使用Cube0或σ一次），网络直径是多少？从4号处理机发送数据到7号处理机，最短路径要经过几步？请列出经过的处理机编号。 