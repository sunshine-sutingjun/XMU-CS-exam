
操作系统实验考试 2012.6.8
   在目录“/home/luwei/exam”下有本文件和程序文件“threadtest.cc”。
   程序threadtest.cc描述如下：
1、函数ThreadTest()与原始版本一样，它创建一个线程，然后
   主线程和子线程分别运行函数SimpleThread。
2、函数SimpleThread(which)使用实验1实现的双向链表类。它首先往
   双向链表list中按序插入5个数据，然后删除并打印它们。插入的数据由参数
   which决定：
   如果which == 0，则依次插入数据2、4、6、8、10；
   如果which == 1，则依次插入数据1、3、5、7、9。
   该函数调用函数PrList完成删除和打印数据。
3、函数PrList(n, which)根据键值“2*n-which”从双向链表list中删除数据并打印它。

问题：
我们希望程序threadtest.cc的输出是: 
1 2 3 4 5 6 7 8 9 10
然而由于函数SimpleThread的设计存在问题，使得程序的输出不是所期望的那样。
本次考试的内容是，找出函数SimpleThread存在的问题，然后添加适当的语句，
使得程序在Nachos下运行时，能正确输出一行:
1 2 3 4 5 6 7 8 9 10

要求：
1、在修改文件threadtest.cc时，不允许修改函数ThreadTest()和PrList()。
   修改时只能添加语句，不允许删除或注释掉现有的语句。
2、使用你在实验1实现的双向链表类。如果需要同步和互斥，只能使用
   信号量Semaphore来同步和互斥，不要使用实验2实现的锁和条件变量。
   不允许在双向链表类中添加使用互斥机制。
3、在你的起始目录下创建目录“osexam”(不含引号，全部小写)。将结果，即
   目录code下的文件Makefile.common，目录threads下的文件Makefile和
   threadtest.cc，以及其他被修改的文件，拷贝至目录osexam中。
   目录osexam中不要包含除了上述文件外的文件。
4、开卷考试，但是不能互相讨论、抄袭。
   
请严格按上述要求完成考试，否则可能没有成绩。

提示：
为了避免各个实验之间的相互影响，建议重新安装一个新的Nachos系统。
