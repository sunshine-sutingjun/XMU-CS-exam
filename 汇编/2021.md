## 2122年第4大题

```asm
dseg	segment
	tab		db		10 dup(?)
	ten		db		10
	mess1 db 'numberis1:','$'
	mess2 db 'numberis2:','$'
	mess3 db 'numberis3:','$'
	mess4 db 'numberis4:','$'
	mess5 db 'numberis5:','$'
	mess6 db 'numberis6:','$'
	mess7 db 'numberis7:','$'
	mess8 db 'numberis8:','$'
	mess9 db 'numberis9:','$'
	crlf  db 10,13,'$'
dseg	ends
cseg	segment
	assume	cs:cseg,ds:dseg,es:dseg
main	proc	far
start:
	push	ds
	sub		ax,ax
	push	ax

	mov		ax,dseg
	mov		ds,ax
	mov		es,ax
begin:
	inc		tab[2];2是质数

	mov		dl,3;从3开始遍历
loop1:
	cmp		dl,100
	jg		out2
	mov		bl,2
loop2:
	cmp		bl,dl
	jge		out1
	mov		al,dl
	cbw
	idiv	bl
	cmp		ah,0
	jnz		no_match
	jmp		out4
no_match:
	inc		bl
	jmp		loop2
out1:
;说明是质数
	mov		al,dl
	cbw
	idiv	ten
	mov		al,ah
	cbw
	lea		si,tab
	add		si,ax
	inc		byte ptr [si]
out4:
	inc		dl
	jmp		loop1
out2:
	mov		cx,9
	lea		si,tab+1
	lea		di,mess1
loop3:
	mov		dx,di
	mov		ah,9
	int		21h

	mov		dl,[si]
	add		dl,30h
	mov		ah,2
	int		21h

	lea		dx,crlf
	mov		ah,9
	int		21h

	inc		si
	add		di,11
	loop	loop3
exit:
	ret
main	endp
cseg	ends
	end		start
```
