# 期末试卷答案

[toc]

## 2008A

### 2008A-1运行结果题

### 2008A-2填空题

### 2008A-3编程计算题

数据段中定义了4个带符号字数据：A、B、C、D，编写指令计算出A+（B*10+C）/D的结果，并说明结果的存放情况。

```asm
datarea segment
        a       dw 100
        b       dw 200
        cc      dw 300        ;在真实的汇编编程中，c是一个关键字，会报错。但是考试还得写成“C”
        d       dw 23
datarea ends
prognam segment
main proc far
                assume cs:prognam,ds:datarea
        start:  
                push   ds
                sub    ax,ax
                push   ax
                mov    ax,datarea
                mov    ds,ax
            
        ;A+(B*10+C)/D
        ;考试从这儿开始写
                mov    ax,b
                mov    bx,10
                imul   bx
                mov    cx,dx
                mov    bx,ax
                mov    ax,cc
                cwd
                add    ax,bx
                adc    dx,cx
                idiv   d
                add    ax,a
        ;考试从这儿结束
                ret
main endp
prognam ends
    end start
```

结果存在ax中

### 2008A-4编程题

已知数组A包含15个互不相等的整数，数组B包含20个互不相等的整数。试编制一程序，统计既在A中出现又在B中出现的元素的个数，并以10进制显示出来。

```asm
;稳妥版
datarea segment
    a       db 3, 6, 9, 12, 15, 18, 21, 24, 27, 30, 33, 36, 39, 42, 45
    b       db 2, 4, 6, 8, 10, 12, 14, 16, 18, 20, 22, 24, 26, 28, 30, 32, 34, 36, 38, 40
    a_count db 15
    b_count db 20
    ;res:[6, 12, 18, 24, 30, 36]
datarea ends
prognam segment
main proc far
              assume cs:prognam,ds:datarea
    start:    
              push   ds
              sub    ax,ax
              push   ax
              mov    ax,datarea
              mov    ds,ax
            
              mov    ax,0                     ;count of same numbers
              mov    si,0                     ;a[si]
    loop1:    
              mov    di,0
    loop2:    
              mov    bl,a[si]
              cmp    bl,b[di]
              jne    not_equal
              inc    ax
    not_equal:
              inc    di
              cmp    di,20
              jl     loop2
              inc    si
              cmp    si,15
              jl     loop1
              call   bin2dec
              ret
main endp
bin2dec proc
    ;ax/src=al...ah
              mov    cx,0
    loop3:    
              mov    bl,10
              div    bl
              push   ax
              xor    ah,ah
              inc    cx
              cmp    al,0
              jg     loop3
    putchar:  
              pop    dx
              mov    dl,dh
              add    dl,30h
              mov    ah,2
              int    21h
              loop   putchar
              ret
bin2dec endp
prognam ends
end start
```

### 2008A-5编程中断题
